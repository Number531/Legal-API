# Enhanced Legal MCP Server - Environment Configuration
# Copy this file to .env and fill in your API keys

# =============================================================================
# REQUIRED API KEYS
# =============================================================================

# CourtListener API Token (HIGHLY RECOMMENDED)
# Get your token at: https://www.courtlistener.com/api/
# Without this token, CourtListener features will be severely limited
COURTLISTENER_API_TOKEN=your_courtlistener_token_here

# =============================================================================
# OPTIONAL API KEYS
# =============================================================================
# The server will gracefully disable features for missing API keys

# USPTO PatentsView API Key (Optional)
# Get your key at: https://patentsview.org/apis/keyrequest
# Enables: Patent search, inventor search, assignee search, classification search
USPTO_API_KEY=your_uspto_api_key_here

# GovInfo API Key (Optional)
# Get your key at: https://api.govinfo.gov/docs/
# Enables: US Code search, section retrieval, title structure
GOVINFO_API_KEY=your_govinfo_api_key_here

# Exa API Key (Optional)
# Get your key at: https://exa.ai/
# Enables: State statute search across all 50 states
EXA_API_KEY=your_exa_api_key_here

# FDA API Key (Optional - increases rate limits)
# Get your key at: https://api.data.gov/signup/
# Enables: Higher rate limits for openFDA endpoints (drug/device adverse events, recalls)
FDA_API_KEY=your_fda_api_key_here

# =============================================================================
# AUTOMATICALLY AVAILABLE (NO API KEY REQUIRED)
# =============================================================================
# These APIs work without authentication:
# - SEC EDGAR (Corporate filings, XBRL data, company facts)
# - Federal Register (Federal regulations and notices)
# - Basic CourtListener features (limited without token)

# =============================================================================
# DEVELOPMENT SETTINGS (Optional)
# =============================================================================

# Enable debug logging (uncomment to enable)
# DEBUG=*

# Node environment (development/production)
NODE_ENV=production

# =============================================================================
# API RATE LIMITING (Automatically Configured)
# =============================================================================
# The server automatically handles rate limiting for all APIs:
# - SEC EDGAR: 9 requests/second (under 10/sec limit)
# - Federal Register: 5 requests/second
# - USPTO Patents: 40 requests/minute (under 45/min limit)
# - GovInfo: 9 requests/second (under 10/sec limit)
# - Exa: 5 requests/second
# - CourtListener: Respects API token limits

# =============================================================================
# GETTING API KEYS
# =============================================================================

# 1. CourtListener (Free with registration)
#    - Visit: https://www.courtlistener.com/api/
#    - Register for a free account
#    - Generate API token in your profile
#    - Provides: Case search, judge info, court data, opinions, audio

# 2. USPTO PatentsView (Free with registration)
#    - Visit: https://patentsview.org/apis/keyrequest
#    - Request free API key
#    - Provides: Patent search, inventor data, assignee info, classifications

# 3. GovInfo (Free with registration)
#    - Visit: https://api.govinfo.gov/docs/
#    - Register for free API key
#    - Provides: US Code search, federal law text, legal structure

# 4. Exa (Paid service with free tier)
#    - Visit: https://exa.ai/
#    - Sign up for account (free tier available)
#    - Provides: State statute search, legal document discovery

# =============================================================================
# FEATURE AVAILABILITY BY API KEY
# =============================================================================

# With COURTLISTENER_API_TOKEN:
# ✅ Full case search and analysis
# ✅ Judge and court information
# ✅ Opinion and audio search
# ✅ Financial disclosure analysis
# ✅ Docket search

# With USPTO_API_KEY:
# ✅ Patent search and analysis
# ✅ Inventor and assignee lookup
# ✅ Patent classification search
# ✅ Geographic patent data

# With GOVINFO_API_KEY:
# ✅ US Code search
# ✅ Federal law section retrieval
# ✅ Legal title structure

# With EXA_API_KEY:
# ✅ State statute search
# ✅ State law discovery
# ✅ Cross-state legal research

# With FDA_API_KEY:
# ✅ Higher rate limits (1000/hour vs 240/hour)
# ✅ Drug adverse event reports (FAERS)
# ✅ Medical device adverse events (MAUDE)
# ✅ Drug labeling and recalls
# ✅ Food recalls and enforcement

# Without API keys:
# ✅ SEC EDGAR corporate filings
# ✅ Federal Register search
# ✅ Basic CourtListener features (limited)
# ✅ Comprehensive legal entity analysis (limited scope)

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Split Memorandum Architecture (v3.0)
# Enables optimized split prompt loading for memo-final-synthesis and memo-generator
# Reduces token usage from ~52K to ~10K tokens (81% reduction)
# See: docs/split-memorandum.md
USE_SPLIT_PROMPTS=true

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - Never commit .env files to version control
# - Keep API keys secure and private
# - Rotate keys periodically
# - Use environment-specific configurations for different deployments
# - Monitor API usage to stay within rate limits